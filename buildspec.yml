# The batch section of this file is autogenerated with the script
# in buildscripts/aws/update_buildspec_batch.py
# Any additional comments you add will not persist,
# but you can change other fields outside of batch.
# Buildspec Reference: https://docs.aws.amazon.com/codebuild/latest/userguide/build-spec-ref.html
# Batch section reference: https://docs.aws.amazon.com/codebuild/latest/userguide/batch-build-buildspec.html
# Compute type options: https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-compute-types.html
# Preexisting image options: https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-available.html
batch:
  build-graph:
  - buildspec: buildscripts/aws/buildspecs/CI_buildspec.yml
    env:
      compute-type: BUILD_GENERAL1_SMALL
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-codebuild:1.0
      variables:
        NP: 1
        NUMBER_GROUPS_SPLIT: 6
        PYTEST_MARKER: not slow and 0
    identifier: linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_0
  - buildspec: buildscripts/aws/buildspecs/CI_buildspec.yml
    env:
      compute-type: BUILD_GENERAL1_SMALL
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-codebuild:1.0
      variables:
        NP: 1
        NUMBER_GROUPS_SPLIT: 6
        PYTEST_MARKER: not slow and 1
    identifier: linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_1
  - buildspec: buildscripts/aws/buildspecs/CI_buildspec.yml
    env:
      compute-type: BUILD_GENERAL1_SMALL
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-codebuild:1.0
      variables:
        NP: 1
        NUMBER_GROUPS_SPLIT: 6
        PYTEST_MARKER: not slow and 2
    identifier: linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_2
  - buildspec: buildscripts/aws/buildspecs/CI_buildspec.yml
    env:
      compute-type: BUILD_GENERAL1_SMALL
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-codebuild:1.0
      variables:
        NP: 1
        NUMBER_GROUPS_SPLIT: 6
        PYTEST_MARKER: not slow and 3
    identifier: linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_3
  - buildspec: buildscripts/aws/buildspecs/CI_buildspec.yml
    env:
      compute-type: BUILD_GENERAL1_SMALL
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-codebuild:1.0
      variables:
        NP: 1
        NUMBER_GROUPS_SPLIT: 6
        PYTEST_MARKER: not slow and 4
    identifier: linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_4
  - buildspec: buildscripts/aws/buildspecs/CI_buildspec.yml
    env:
      compute-type: BUILD_GENERAL1_SMALL
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-codebuild:1.0
      variables:
        NP: 1
        NUMBER_GROUPS_SPLIT: 6
        PYTEST_MARKER: not slow and 5
    identifier: linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_5
  - buildspec: buildscripts/aws/buildspecs/CI_buildspec.yml
    env:
      compute-type: BUILD_GENERAL1_MEDIUM
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-codebuild:1.0
      variables:
        NP: 2
        NUMBER_GROUPS_SPLIT: 1
        PYTEST_MARKER: smoke
    identifier: linux_NP_2_NUMBER_GROUPS_SPLIT_1_PYTEST_MARKER_smoke
  - buildspec: buildscripts/aws/buildspecs/sonar_buildspec.yml
    depend-on:
    - linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_0
    - linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_1
    - linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_2
    - linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_3
    - linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_4
    - linux_NP_1_NUMBER_GROUPS_SPLIT_6_PYTEST_MARKER_not_slow_and_5
    env:
      compute-type: BUILD_GENERAL1_SMALL
      image: 427443013497.dkr.ecr.us-east-2.amazonaws.com/bodo-sonar:1.0
    identifier: Sonar
version: 0.2
