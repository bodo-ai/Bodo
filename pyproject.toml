[tool.setuptools_scm]

[tool.black]
exclude = 'demo/.*'

[tool.ruff]
unsafe-fixes = true
extend-select = [
    "I",  # isort
    "C4"  # flake8-comprehensions
]
ignore = [
    # Permanently Disabled Rules
    "E501",  # Line too long. Black should manage this only
    "E741",  # Ambiguous variable name: {name}

    # TODO: Gradually Enable in Next PR

    # PyFlakes (subset of Flake8)
    "F401",  # {name} imported but unused; consider using importlib.util.find_spec to test for availability
    "F403",  # from {name} import * used; unable to detect undefined names
    "F405",  # {name} may be undefined, or defined from star imports	
    "F522",  # `.format` call has unused named argument(s): ...
    "F523",  # `.format` call has unused arguments at position(s): ...
    "F541",  # f-string without any placeholders
    "F601",  # Dictionary key literal {name} repeated
    "F811",  # Redefinition of unused {name} from line
    "F821",  # Undefined name {name}
    "F841",  # Local variable {name} is assigned to but never used

    # PyCodeStyle (other subset of Flake8)
    "E402",  # Module level import not at top of file
    "E711",  # Comparison to `None` should be `cond is not None`
    "E712",  # Comparison to `...` should be `cond is False` or `if not cond:`
    "E713",  # Test for membership should be `not in`
    "E714",  # Test for object identity should be `is not`
    "E722",  # Do not use bare `except`
    "E721",  # Do not compare types, use `isinstance()`
    "E731",  # Do not assign a `lambda` expression, use a `def`

    # Flake8-Comprehensions
    # It looks like these checks never actually worked
    "C400",  # Unnecessary generator (rewrite as a `list` comprehension)
    "C401",  # Unnecessary generator (rewrite as a `set` comprehension)
    "C403",  # Unnecessary `list` comprehension (rewrite as a `set` comprehension)
    "C405",  # Unnecessary `...` literal (rewrite as a `set` literal)
    "C408",  # Unnecessary `dict` call (rewrite as a literal)
    "C409",  # Unnecessary `...` literal passed to `tuple()` (rewrite as a `tuple` literal)
    "C413",  # Unnecessary `...` call around `sorted()`
    "C414",  # Unnecessary `list` call within `sorted()`
    "C416",  # Unnecessary `list` comprehension (rewrite using `list()`)
    "C417",  # Unnecessary `map` usage (rewrite using a generator expression)
    "C419",  # Unnecessary list comprehension.
]
exclude = [
    ".git/",

    # TODO: Couple of ISort Problems with this folder
    "bodo-platform-image/",
    
    "demo/",
    "examples/",

    # TODO: Skip specific rules for these files
    "bodo/__init__.py",
    "BodoSQL/bodosql/__init__.py",
    "iceberg/bodo_iceberg_connector/__init__.py",
]

[tool.ruff.isort]
known-first-party = ["bodo", "bodosql", "BodoSQL/bodosql", "e2e-tests"]
