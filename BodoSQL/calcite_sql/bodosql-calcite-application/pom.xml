<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>com.bodosql</groupId>
        <artifactId>bodosql-calcite-parent</artifactId>
        <version>1.0.0.RC</version>
    </parent>

    <artifactId>bodosql-calcite-application</artifactId>
    <packaging>jar</packaging>

    <properties>
        <java.version>1.9</java.version>
        <kotlin.version>1.9.0</kotlin.version>

        <!-- Maven properties -->
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <maven.compiler.source>${java.version}</maven.compiler.source>
        <maven.compiler.target>${java.version}</maven.compiler.target>
        <kotlin.compiler.incremental>true</kotlin.compiler.incremental>
        <org.slf4j-version>1.7.36</org.slf4j-version>
        <org.apache.calcite-version>1.36.0</org.apache.calcite-version>
        <org.apache.calcite.avatica-version>1.23.0</org.apache.calcite.avatica-version>
        <com.google.protobuf-version>3.21.5</com.google.protobuf-version>
        <!-- TODO(njriasan): Upgrade to 3.14.1. This changes retry behavior so we need to test -->
        <snowflake-jdbc-version>3.13.33</snowflake-jdbc-version>
        <mockk.version>1.13.5</mockk.version>
        <!-- Start Iceberg Dependencies. We may remove these as we cleanup the relationship with the Iceberg Connector. -->
        <iceberg.version>1.4.3</iceberg.version>
        <hadoop.version>3.3.3</hadoop.version>
        <!-- End Iceberg Dependencies -->
        <!-- Start Arrow Dependencies. We may remove these as we cleanup the relationship with file formats. -->
        <arrow.version>15.0.0</arrow.version>
        <!-- End Arrow Dependencies -->
    </properties>

    <dependencies>
        <!-- py4j import: https://mavenlibs.com/maven/dependency/net.sf.py4j/py4j -->
        <dependency>
            <groupId>net.sf.py4j</groupId>
            <artifactId>py4j</artifactId>
            <version>0.10.9.7</version>
        </dependency>
        <!-- slf4j import. This squashes debug info for Python usage.-->
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>${org.slf4j-version}</version>
        </dependency>

        <dependency>
            <groupId>org.apache.commons</groupId>
            <artifactId>commons-lang3</artifactId>
            <version>3.12.0</version>
        </dependency>

        <dependency>
            <groupId>org.immutables</groupId>
            <artifactId>value</artifactId>
            <version>2.9.0</version>
            <scope>provided</scope>
        </dependency>

        <dependency>
            <groupId>org.apache.calcite</groupId>
            <artifactId>calcite-core</artifactId>
            <version>${org.apache.calcite-version}</version>
        </dependency>

        <dependency>
            <groupId>org.apache.calcite</groupId>
            <artifactId>calcite-testkit</artifactId>
            <version>${org.apache.calcite-version}</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter</artifactId>
            <version>5.10.1</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.hamcrest</groupId>
            <artifactId>hamcrest</artifactId>
            <version>2.1</version>
            <scope>test</scope>
        </dependency>

        <!-- https://mvnrepository.com/artifact/com.google.code.findbugs/jsr305 -->
        <!-- TODO: Remove when Calcite removes the @javax.annotation.Nullable -->
        <!-- from the RelRule.java definition. -->
        <dependency>
            <groupId>com.google.code.findbugs</groupId>
            <artifactId>jsr305</artifactId>
            <version>3.0.2</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple -->
        <!-- This has to be below hamcrest so we get the newer version of hamcrest rather -->
        <!-- than the older one since Calcite uses methods from the newer one. -->
        <dependency>
            <groupId>com.googlecode.json-simple</groupId>
            <artifactId>json-simple</artifactId>
            <version>1.1.1</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/net.snowflake/snowflake-jdbc -->
        <dependency>
            <groupId>net.snowflake</groupId>
            <artifactId>snowflake-jdbc</artifactId>
            <version>${snowflake-jdbc-version}</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/org.apache.iceberg/iceberg-api -->
        <dependency>
            <groupId>org.apache.iceberg</groupId>
            <artifactId>iceberg-api</artifactId>
            <version>${iceberg.version}</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/org.apache.iceberg/iceberg-core -->
        <dependency>
            <groupId>org.apache.iceberg</groupId>
            <artifactId>iceberg-core</artifactId>
            <version>${iceberg.version}</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common -->
        <dependency>
            <groupId>org.apache.hadoop</groupId>
            <artifactId>hadoop-common</artifactId>
            <version>${hadoop.version}</version>
        </dependency>

        <dependency>
            <groupId>org.apache.hadoop</groupId>
            <artifactId>hadoop-aws</artifactId>
            <version>${hadoop.version}</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/org.apache.arrow/arrow-dataset -->
        <dependency>
            <groupId>org.apache.arrow</groupId>
            <artifactId>arrow-dataset</artifactId>
            <version>${arrow.version}</version>
        </dependency>

        <!-- https://mvnrepository.com/artifact/org.apache.arrow/arrow-memory-netty -->
        <dependency>
            <groupId>org.apache.arrow</groupId>
            <artifactId>arrow-memory-netty</artifactId>
            <version>${arrow.version}</version>
        </dependency>


        <!-- Protobuf to fix Reflective upgrade while waiting on avatica upgrade-->
        <dependency>
            <groupId>com.google.protobuf</groupId>
            <artifactId>protobuf-java</artifactId>
            <version>${com.google.protobuf-version}</version>
        </dependency>

        <dependency>
            <groupId>org.jetbrains.kotlin</groupId>
            <artifactId>kotlin-stdlib-jdk8</artifactId>
            <version>${kotlin.version}</version>
        </dependency>

        <dependency>
            <groupId>org.jetbrains.kotlin</groupId>
            <artifactId>kotlin-test-junit5</artifactId>
            <version>${kotlin.version}</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>io.mockk</groupId>
            <artifactId>mockk-jvm</artifactId>
            <version>${mockk.version}</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.codehaus.janino</groupId>
            <artifactId>commons-compiler</artifactId>
            <version>3.1.10</version>
        </dependency>
        <dependency>
            <groupId>org.json</groupId>
            <artifactId>json</artifactId>
            <version>20231013</version>
        </dependency>
    </dependencies>

    <build>
        <testSourceDirectory>${project.basedir}/src/test/java</testSourceDirectory>

        <plugins>
            <plugin>
                <groupId>org.jetbrains.kotlin</groupId>
                <artifactId>kotlin-maven-plugin</artifactId>
                <version>${kotlin.version}</version>

                <executions>
                    <execution>
                        <id>compile</id>
                        <phase>process-sources</phase>
                        <goals>
                            <goal>compile</goal>
                        </goals>

                        <configuration>
                            <sourceDirs>
                                <source>target/generated-sources/annotations</source>
                                <source>target/generated-sources/parser</source>
                                <source>src/main/java</source>
                            </sourceDirs>
                        </configuration>
                    </execution>

                    <execution>
                        <id>test-compile</id>
                        <phase>test-compile</phase>
                        <goals>
                            <goal>test-compile</goal>
                        </goals>

                        <configuration>
                            <sourceDirs>
                                <source>src/test/java</source>
                            </sourceDirs>
                        </configuration>
                    </execution>
                </executions>

                <configuration>
                    <jvmTarget>1.8</jvmTarget>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.apache.drill.tools</groupId>
                <artifactId>drill-fmpp-maven-plugin</artifactId>
                <version>1.21.1</version>
                <executions>
                    <execution>
                        <id>generate-parser</id>
                        <goals>
                            <goal>generate</goal>
                        </goals>
                        <configuration>
                            <config>src/main/codegen/config.fmpp</config>
                            <templates>src/main/codegen/templates</templates>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>javacc-maven-plugin</artifactId>
                <!--
                The version here is weird and old because the version of javacc used depends
                on the plugin version and this plugin version matches the specific javacc version
                that calcite uses.

                Upgrading this seems to cause some tests to fail. Since the javacc version isn't
                very important, this is left at the newest version with the specific javacc version
                we need (which is 4.0).
                -->
                <version>2.4.1</version>
                <executions>
                    <execution>
                        <phase>generate-sources</phase>
                        <id>javacc</id>
                        <goals>
                            <goal>javacc</goal>
                        </goals>
                        <configuration>
                            <sourceDirectory>${project.build.directory}/generated-sources/</sourceDirectory>
                            <includes>
                                <include>**/Parser.jj</include>
                            </includes>
                            <outputDirectory>${project.build.directory}/generated-sources/parser/</outputDirectory>
                            <lookAhead>2</lookAhead>
                            <isStatic>false</isStatic>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-javadoc-plugin</artifactId>
                <version>3.0.1</version>
                <configuration>
                    <destDir>../docs</destDir>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-jar-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <finalName>BodoSqlCalcite</finalName>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-shade-plugin</artifactId>
                <version>2.1</version>
                <executions>
                    <execution>
                        <phase>package</phase>
                        <goals>
                            <goal>shade</goal>
                        </goals>
                        <configuration>
                            <filters>
                                <filter>
                                    <artifact>*:*</artifact>
                                    <excludes>
                                        <exclude>META-INF/*.SF</exclude>
                                        <exclude>META-INF/*.DSA</exclude>
                                        <exclude>META-INF/*.RSA</exclude>
                                    </excludes>
                                </filter>
                                <filter>
                                    <artifact>org.apache.calcite:calcite-core</artifact>
                                    <excludes>
                                        <!-- List of all class files we overwrite from Calcite. -->
                                        <!-- Ideally, this list is empty and classes should only be added here sparingly or removed. -->
                                        <!-- The existence of this list is a maintenance nightmare. -->
                                        <exclude>org/apache/calcite/adapter/enumerable/RexImpTable.class</exclude>
                                        <exclude>org/apache/calcite/jdbc/JavaTypeFactoryImpl.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptAbstractTable.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptMaterialization$1.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptMaterialization$ProjectFilterTable.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptMaterialization.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptRowSamplingParameters.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptTable$ToRelContext.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptTable$ViewExpander.class</exclude>
                                        <exclude>org/apache/calcite/plan/RelOptTable.class</exclude>
                                        <exclude>org/apache/calcite/plan/volcano/VolcanoPlanner$1.class</exclude>
                                        <exclude>org/apache/calcite/plan/volcano/VolcanoPlanner$DeferringRuleCall.class</exclude>
                                        <exclude>org/apache/calcite/plan/volcano/VolcanoPlanner$DirectProvenance.class</exclude>
                                        <exclude>org/apache/calcite/plan/volcano/VolcanoPlanner$Provenance.class</exclude>
                                        <exclude>org/apache/calcite/plan/volcano/VolcanoPlanner$RuleProvenance.class</exclude>
                                        <exclude>org/apache/calcite/plan/volcano/VolcanoPlanner$UnknownProvenance.class</exclude>
                                        <exclude>org/apache/calcite/plan/volcano/VolcanoPlanner.class</exclude>
                                        <exclude>org/apache/calcite/prepare/CalciteCatalogReader.class</exclude>
                                        <exclude>org/apache/calcite/prepare/RelOptTableImpl$1.class</exclude>
                                        <exclude>org/apache/calcite/prepare/RelOptTableImpl$2.class</exclude>
                                        <exclude>org/apache/calcite/prepare/RelOptTableImpl$3.class</exclude>
                                        <exclude>org/apache/calcite/prepare/RelOptTableImpl$MySchemaPlus.class</exclude>
                                        <exclude>org/apache/calcite/prepare/RelOptTableImpl.class</exclude>
                                        <exclude>org/apache/calcite/rel/core/AggregateCall.class</exclude>
                                        <exclude>org/apache/calcite/rel/core/TableCreate.class</exclude>
                                        <exclude>org/apache/calcite/rel/core/TableModify$1.class</exclude>
                                        <exclude>org/apache/calcite/rel/core/TableModify$Operation.class</exclude>
                                        <exclude>org/apache/calcite/rel/core/TableModify.class</exclude>
                                        <exclude>org/apache/calcite/rel/rules/CalcRelSplitter.class</exclude>
                                        <exclude>org/apache/calcite/rel/rules/CalcRelSplitter$RelType.class</exclude>
                                        <exclude>org/apache/calcite/rel/rules/CalcRelSplitter$ImplementTester.class</exclude>
                                        <exclude>org/apache/calcite/rel/rules/CalcRelSplitter$CannotImplement.class</exclude>
                                        <exclude>org/apache/calcite/rel/rules/CalcRelSplitter$InputToCommonExprConverter.class</exclude>
                                        <exclude>org/apache/calcite/rel/rules/CalcRelSplitter$MaxInputFinder.class</exclude>
                                        <exclude>org/apache/calcite/rel/rules/CalcRelSplitter$HighestUsageFinder.class</exclude>
                                        <exclude>org/apache/calcite/rel/logical/LogicalTargetTableScan.class</exclude>
                                        <exclude>org/apache/calcite/rel/metadata/RelMdColumnUniqueness$1.class</exclude>
                                        <exclude>org/apache/calcite/rel/metadata/RelMdColumnUniqueness.class</exclude>
                                        <exclude>org/apache/calcite/rel/metadata/RelMdSize.class</exclude>
                                        <exclude>org/apache/calcite/rel/type/RelDataTypeSystemImpl.class</exclude>
                                        <exclude>org/apache/calcite/rel2sql/SqlImplementor.class</exclude>
                                        <exclude>org/apache/calcite/rex/LogicVisitor$1.class</exclude>
                                        <exclude>org/apache/calcite/rex/LogicVisitor.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexBuilder$1.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexBuilder.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexCall$1.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexCall.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexLiteral$1.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexLiteral.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$1.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$CaseBranch.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$Comparison.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$IsPredicate.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$Predicate.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$RexSargBuilder.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$SafeRexVisitor.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$SargCollector.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify$VariableCollector.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSimplify.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSqlStandardConvertletTable$EquivConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/rex/RexSqlStandardConvertletTable.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlAbstractDateTimeLiteral.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlBasicTypeNameSpec.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlTimeTzLiteral.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlTimestampTzLiteral.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlUnknownLiteral.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlCall.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlCallBinding$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlCallBinding$DefaultCallHolder.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlCallBinding.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlDataTypeSpec.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlDelete.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlDeleteUsingItem$SqlDeleteUsingItemOperator.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlDeleteUsingItem.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlDynamicParam.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlIdentifier.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlInsert$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlInsert.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlInsertKeyword.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlIntervalQualifier$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlIntervalQualifier.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlKind$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlKind.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlLiteral$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlLiteral$SqlSymbol.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlLiteral.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlMerge.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlNode.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlNodeList.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlTableIdentifierWithID.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlTableRefWithID$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlTableRefWithID.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlUpdate.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlUtil$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlUtil$DatabaseMetaDataInvocationHandler.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlUtil$Genealogist.class</exclude>
                                        <exclude>org/apache/calcite/sql/SqlUtil.class</exclude>
                                        <exclude>org/apache/calcite/sql/advise/SqlAdvisorValidator.class</exclude>
                                        <exclude>org/apache/calcite/sql/ddl/SqlColumnDeclaration$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/ddl/SqlColumnDeclaration.class</exclude>
                                        <exclude>org/apache/calcite/sql/ddl/SqlCreateTable$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/ddl/SqlCreateTable$CreateTableType.class</exclude>
                                        <exclude>org/apache/calcite/sql/ddl/SqlCreateTable.class</exclude>
                                        <exclude>org/apache/calcite/sql/fun/SqlCoalesceFunction.class</exclude>
                                        <exclude>org/apache/calcite/sql/fun/SqlQuantifyOperator.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil$Format.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil$MalformedUnicodeEscape.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil$OldTokenSequenceImpl.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil$ParsedCollation.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil$ToTreeListItem.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil$TokenSequenceImpl.class</exclude>
                                        <exclude>org/apache/calcite/sql/parser/SqlParserUtil.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/SqlBasicVisitor$ArgHandler.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/SqlBasicVisitor$ArgHandlerImpl.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/SqlBasicVisitor.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/SqlShuttle$CallCopyingArgHandler.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/SqlShuttle.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/SqlVisitor.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/AggChecker$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/AggChecker.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/DelegatingScope$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/DelegatingScope$2.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/DelegatingScope.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/EmptyScope.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/ImmutableSqlValidator$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/ImmutableSqlValidator$Config$Builder.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/ImmutableSqlValidator$Config$InitShim.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/ImmutableSqlValidator$Config.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/ImmutableSqlValidator.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/ListScope.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/OrderByScope.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/ParameterScope.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SchemaNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlQualified.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlTableIdentifierWithIDQualified.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidator$Config.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidator.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$2.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$3.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$4.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$Clause.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$DdlNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$DeleteNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$DeriveTypeVisitor.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$DmlNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$Expander.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$ExtendedExpander.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$FunctionParamInfo.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$IdInfo.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$InsertNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$MergeNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$NavigationExpander.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$NavigationModifier.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$NavigationReplacer.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$OrderExpressionExpander.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$PatternValidator.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$PatternVarVisitor.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$Permute.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$SelectExpander.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$Status.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$UpdateNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$ValidationError.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl$ValidationErrorFunction.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorImpl.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorScope$EmptyPath.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorScope$Path.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorScope$Resolve.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorScope$Resolved.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorScope$ResolvedImpl.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorScope$Step.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorScope.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil$DeepCopier.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil$ExplicitRowTypeTable.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil$ExplicitTableSchema.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil$FlatAggregate.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil$GroupAnalyzer.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil$Suggester.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/SqlValidatorUtil.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/TableIdentifierWithIDNamespace$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/TableIdentifierWithIDNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/TableNamespace.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/WindowedAggChecker.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/WithScope.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/implicit/TypeCoercion.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/implicit/TypeCoercionImpl$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/implicit/TypeCoercionImpl$2.class</exclude>
                                        <exclude>org/apache/calcite/sql/validate/implicit/TypeCoercionImpl.class</exclude>
                                        <exclude>org/apache/calcite/sql/type/ReturnTypes.class</exclude>
                                        <exclude>org/apache/calcite/sql/type/SqlTypeAssignmentRule.class</exclude>
                                        <exclude>org/apache/calcite/sql/type/SqlTypeCoercionRule.class</exclude>
                                        <exclude>org/apache/calcite/sql/type/SqlTypeFamily.class</exclude>
                                        <exclude>org/apache/calcite/sql/type/SqlTypeName.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/TimeWithTimeZoneString.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/TimestampString.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/TimestampWithTimeZoneString.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/Util.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/Util$1.class</exclude>
                                        <exclude>org/apache/calcite/sql/util/Util$FoundOne.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/ImmutableSqlToRelConverter$1.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/ImmutableSqlToRelConverter$Config$Builder.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/ImmutableSqlToRelConverter$Config$InitShim.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/ImmutableSqlToRelConverter$Config.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/ImmutableSqlToRelConverter.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelStructuredTypeFlattener$1.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelStructuredTypeFlattener$RewriteRelVisitor.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelStructuredTypeFlattener$RewriteRexShuttle.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelStructuredTypeFlattener$SelfFlatteningRel.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelStructuredTypeFlattener.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$1.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$2.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$3.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$4.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$5.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$AggregateFinder.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$Blackboard$1.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$Blackboard.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$Config.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$CorrelationUse.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$DeferredLookup.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$DuplicateEliminator.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$HistogramShuttle.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$JsonFunctionRexRewriter.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$LookupContext.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$NestedJsonFunctionRelRewriter.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$NoOpSubQueryConverter.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$RegisterArgs.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$RexAccessShuttle.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$SortExpressionConverter.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$SqlIdentifierFinder.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter$SubQuery.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/SqlToRelConverter.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$1.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$2.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$3.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$AvgVarianceConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$FloorCeilConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$GreatestConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$RegrCovarianceConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$SubstrConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$TimestampAddConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$TimestampDiffConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$TimestampSubConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$TrimConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable$TruncConvertlet.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTable.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/StandardConvertletTableConfig.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$DecorrelateRexShuttle.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$RemoveCorrelationRexShuttle.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$RemoveSingleAggregateRule.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$RemoveCorrelationForScalarProjectRule.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$RemoveCorrelationForScalarAggregateRule.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$AdjustProjectForCountAggregateRule.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$CorRef.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$CorDef.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$CorelMap.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$CorelMapBuilder.class</exclude>
                                        <exclude>org/apache/calcite/sql2rel/RelDecorrelator$Frame.class</exclude>
                                        <exclude>org/apache/calcite/tools/ImmutableRelBuilder$1.class</exclude>
                                        <exclude>org/apache/calcite/tools/ImmutableRelBuilder$Config$Builder.class</exclude>
                                        <exclude>org/apache/calcite/tools/ImmutableRelBuilder$Config$InitShim.class</exclude>
                                        <exclude>org/apache/calcite/tools/ImmutableRelBuilder$Config.class</exclude>
                                        <exclude>org/apache/calcite/tools/ImmutableRelBuilder.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$1.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$2.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$AggCall.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$AggCallImpl.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$AggCallImpl2.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$AggCallPlus.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$Config.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$Frame.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$GroupKey.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$GroupKeyImpl.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$OverCall.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$OverCallImpl$1.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$OverCallImpl.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$Registrar.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder$Shifter.class</exclude>
                                        <exclude>org/apache/calcite/tools/RelBuilder.class</exclude>
                                    </excludes>
                                </filter>
                            </filters>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <configuration>
                    <source>${java.version}</source>
                    <target>${java.version}</target>
                    <compilerArgs>
                        <!-- Ensure package-info.java file produces a .class file to prevent erroneous rebuilds. -->
                        <arg>-Xpkginfo:always</arg>
                    </compilerArgs>
                </configuration>

                <executions>
                    <execution>
                        <id>default-compile</id>
                        <phase>none</phase>
                    </execution>
                    <execution>
                        <id>java-compile</id>
                        <phase>compile</phase>
                        <goals>
                            <goal>compile</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>testCompile</id>
                        <phase>test-compile</phase>
                        <goals>
                            <goal>testCompile</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <!-- Java test runner -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>2.22.1</version>

                <dependencies>
                    <dependency>
                        <groupId>org.junit.jupiter</groupId>
                        <artifactId>junit-jupiter-engine</artifactId>
                        <version>5.9.2</version>
                    </dependency>
                </dependencies>
                <configuration>
                    <forkCount>3</forkCount>
                    <reuseForks>false</reuseForks>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
